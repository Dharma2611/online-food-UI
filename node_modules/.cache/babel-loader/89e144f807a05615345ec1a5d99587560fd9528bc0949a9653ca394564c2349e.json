{"ast":null,"code":"import { isPresentInFavorite } from \"../../commponent/config/logic\";\nimport { ADD_TO_FAVORITE_FAILURE, ADD_TO_FAVORITE_REQUEST, ADD_TO_FAVORITE_SUCCESS, GET_USER_FAILURE, GET_USER_REQUEST, GET_USER_SUCCESS, LOGIN_FAILURE, LOGIN_REQUEST, LOGIN_SUCCESS, LOGOUT, REGISTER_FAILURE, REGISTER_REQUEST, REGISTER_SUCCESS } from \"./ActionType\";\nconst initialState = {\n  user: null,\n  isLoading: false,\n  error: null,\n  jwt: null,\n  favorites: [],\n  success: null\n};\nexport const authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case REGISTER_REQUEST:\n    case LOGIN_REQUEST:\n    case GET_USER_REQUEST:\n    case ADD_TO_FAVORITE_REQUEST:\n      return {\n        ...state,\n        isLoading: true,\n        error: null,\n        success: null\n      };\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        user: action.payload,\n        jwt: action.payload,\n        favorites: action.payload.favorites,\n        success: true\n      };\n    case GET_USER_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        user: action.payload\n      };\n    case ADD_TO_FAVORITE_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        error: null,\n        favorites: isPresentInFavorite(state.favorites, action.payload) ? state.favorites.filter(item => item.id !== action.payload) : [action.payload, ...state.favorites]\n      };\n    case REGISTER_FAILURE:\n    case LOGIN_FAILURE:\n    case GET_USER_FAILURE:\n    case ADD_TO_FAVORITE_FAILURE:\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n        success: null\n      };\n    case LOGOUT:\n      {\n        return;\n        initialState;\n      }\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["isPresentInFavorite","ADD_TO_FAVORITE_FAILURE","ADD_TO_FAVORITE_REQUEST","ADD_TO_FAVORITE_SUCCESS","GET_USER_FAILURE","GET_USER_REQUEST","GET_USER_SUCCESS","LOGIN_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGOUT","REGISTER_FAILURE","REGISTER_REQUEST","REGISTER_SUCCESS","initialState","user","isLoading","error","jwt","favorites","success","authReducer","state","action","type","payload","filter","item","id"],"sources":["C:/Users/gangw/OneDrive/Desktop/online-frontend/src/State/Authentication/Reducer.js"],"sourcesContent":["import { isPresentInFavorite } from \"../../commponent/config/logic\";\r\nimport {\r\n  ADD_TO_FAVORITE_FAILURE,\r\n  ADD_TO_FAVORITE_REQUEST,\r\n  ADD_TO_FAVORITE_SUCCESS,\r\n  GET_USER_FAILURE,\r\n  GET_USER_REQUEST,\r\n  GET_USER_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGOUT,\r\n  REGISTER_FAILURE,\r\n  REGISTER_REQUEST,\r\n  REGISTER_SUCCESS,\r\n} from \"./ActionType\";\r\n\r\nconst initialState = {\r\n  user: null,\r\n  isLoading: false,\r\n  error: null,\r\n  jwt: null,\r\n  favorites: [],\r\n  success: null,\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case REGISTER_REQUEST:\r\n    case LOGIN_REQUEST:\r\n    case GET_USER_REQUEST:\r\n    case ADD_TO_FAVORITE_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: null,\r\n        success: null,\r\n      };\r\n    case REGISTER_SUCCESS:\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        user: action.payload,\r\n        jwt: action.payload,\r\n        favorites: action.payload.favorites,\r\n        success: true,\r\n      };\r\n    case GET_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        user: action.payload,\r\n      };\r\n\r\n    case ADD_TO_FAVORITE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: null,\r\n        favorites: isPresentInFavorite(state.favorites, action.payload)\r\n          ? state.favorites.filter((item) => item.id !== action.payload)\r\n          : [action.payload, ...state.favorites],\r\n      };\r\n    case REGISTER_FAILURE:\r\n    case LOGIN_FAILURE:\r\n    case GET_USER_FAILURE:\r\n    case ADD_TO_FAVORITE_FAILURE:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: action.payload,\r\n        success: null,\r\n      };\r\n    case LOGOUT: {\r\n      return;\r\n      initialState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,mBAAmB,QAAQ,+BAA+B;AACnE,SACEC,uBAAuB,EACvBC,uBAAuB,EACvBC,uBAAuB,EACvBC,gBAAgB,EAChBC,gBAAgB,EAChBC,gBAAgB,EAChBC,aAAa,EACbC,aAAa,EACbC,aAAa,EACbC,MAAM,EACNC,gBAAgB,EAChBC,gBAAgB,EAChBC,gBAAgB,QACX,cAAc;AAErB,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAE,IAAI;EACVC,SAAS,EAAE,KAAK;EAChBC,KAAK,EAAE,IAAI;EACXC,GAAG,EAAE,IAAI;EACTC,SAAS,EAAE,EAAE;EACbC,OAAO,EAAE;AACX,CAAC;AAED,OAAO,MAAMC,WAAW,GAAGA,CAACC,KAAK,GAAGR,YAAY,EAAES,MAAM,KAAK;EAC3D,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKZ,gBAAgB;IACrB,KAAKJ,aAAa;IAClB,KAAKH,gBAAgB;IACrB,KAAKH,uBAAuB;MAC1B,OAAO;QACL,GAAGoB,KAAK;QACRN,SAAS,EAAE,IAAI;QACfC,KAAK,EAAE,IAAI;QACXG,OAAO,EAAE;MACX,CAAC;IACH,KAAKP,gBAAgB;IACrB,KAAKJ,aAAa;MAChB,OAAO;QACL,GAAGa,KAAK;QACRN,SAAS,EAAE,KAAK;QAChBD,IAAI,EAAEQ,MAAM,CAACE,OAAO;QACpBP,GAAG,EAAEK,MAAM,CAACE,OAAO;QACnBN,SAAS,EAAEI,MAAM,CAACE,OAAO,CAACN,SAAS;QACnCC,OAAO,EAAE;MACX,CAAC;IACH,KAAKd,gBAAgB;MACnB,OAAO;QACL,GAAGgB,KAAK;QACRN,SAAS,EAAE,KAAK;QAChBD,IAAI,EAAEQ,MAAM,CAACE;MACf,CAAC;IAEH,KAAKtB,uBAAuB;MAC1B,OAAO;QACL,GAAGmB,KAAK;QACRN,SAAS,EAAE,KAAK;QAChBC,KAAK,EAAE,IAAI;QACXE,SAAS,EAAEnB,mBAAmB,CAACsB,KAAK,CAACH,SAAS,EAAEI,MAAM,CAACE,OAAO,CAAC,GAC3DH,KAAK,CAACH,SAAS,CAACO,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACE,OAAO,CAAC,GAC5D,CAACF,MAAM,CAACE,OAAO,EAAE,GAAGH,KAAK,CAACH,SAAS;MACzC,CAAC;IACH,KAAKR,gBAAgB;IACrB,KAAKJ,aAAa;IAClB,KAAKH,gBAAgB;IACrB,KAAKH,uBAAuB;MAC1B,OAAO;QACL,GAAGqB,KAAK;QACRN,SAAS,EAAE,KAAK;QAChBC,KAAK,EAAEM,MAAM,CAACE,OAAO;QACrBL,OAAO,EAAE;MACX,CAAC;IACH,KAAKV,MAAM;MAAE;QACX;QACAI,YAAY;MACd;IACA;MACE,OAAOQ,KAAK;EAChB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}