{"ast":null,"code":"import * as ActionType from \"./ActionType\";\nimport { LOGOUT } from \"../Authentication/ActionType\";\nconst intialState = {\n  cart: null,\n  cartItems: [],\n  loading: false,\n  error: null\n};\nexport const cartReducer = (state = intialState, action) => {\n  switch (action.type) {\n    case ActionType.FIND_CART_REQUEST:\n    case ActionType.GET_ALL_CART_ITEMS_REQUEST:\n    case ActionType.UPDATE_CART_ITEM_REQUEST:\n    case ActionType.REMOVE_FROM_CART_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case ActionType.FIND_CART_SUCCESS:\n    case ActionType.CLEAR_CART_SUCCESS:\n      return {\n        ...state,\n        cart: action.payload,\n        loading: false,\n        error: null\n      };\n    case ActionType.ADD_TO_CART_SUCCESS:\n      const existingItemIndex = state.cartItems.findIndex(item => item.foodId === action.payload.foodId);\n      if (existingItemIndex >= 0) {\n        // यदि आइटम पहले से मौजूद है, तो उसकी मात्रा बढ़ाएँ\n        const updatedItems = [...state.cartItems];\n        updatedItems[existingItemIndex].quantity += action.payload.quantity; // मान लें कि आपकी payload में मात्रा होती है\n        return {\n          ...state,\n          cartItems: updatedItems,\n          loading: false,\n          error: null\n        };\n      } else {\n        // यदि आइटम नहीं है, तो नया आइटम जोड़ें\n        return {\n          ...state,\n          cartItems: [action.payload, ...state.cartItems],\n          loading: false,\n          error: null\n        };\n      }\n      // console.log(\"aadasdss cart\", ...state.cartItems);\n      return {\n        ...state,\n        cartItems: [action.payload, ...state.cartItems],\n        loading: false,\n        error: null\n      };\n    case ActionType.UPDATE_CART_ITEM_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        cartItems: state.cartItems.map(item => item.id === action.payload.id ? action.payload : item)\n      };\n    case ActionType.REMOVE_FROM_CART_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        cartItems: state.cartItems.filter(item => item.id !== action.payload)\n      };\n    case ActionType.FIND_CART_FAILURE:\n    case ActionType.UPDATE_CART_ITEM_FAILURE:\n    case ActionType.REMOVE_FROM_CART_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload.error\n      };\n    case LOGOUT:\n      localStorage.removeItem(\"jwt\");\n      return {\n        ...state,\n        cartItems: [],\n        cart: null,\n        success: \"logout success\"\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["ActionType","LOGOUT","intialState","cart","cartItems","loading","error","cartReducer","state","action","type","FIND_CART_REQUEST","GET_ALL_CART_ITEMS_REQUEST","UPDATE_CART_ITEM_REQUEST","REMOVE_FROM_CART_REQUEST","FIND_CART_SUCCESS","CLEAR_CART_SUCCESS","payload","ADD_TO_CART_SUCCESS","existingItemIndex","findIndex","item","foodId","updatedItems","quantity","UPDATE_CART_ITEM_SUCCESS","map","id","REMOVE_FROM_CART_SUCCESS","filter","FIND_CART_FAILURE","UPDATE_CART_ITEM_FAILURE","REMOVE_FROM_CART_FAILURE","localStorage","removeItem","success"],"sources":["C:/Users/gangw/OneDrive/Desktop/online-frontend/src/State/Cart/Reducer.js"],"sourcesContent":["import * as ActionType from \"./ActionType\";\r\nimport { LOGOUT } from \"../Authentication/ActionType\";\r\n\r\nconst intialState = {\r\n  cart: null,\r\n  cartItems: [],\r\n  loading: false,\r\n  error: null,\r\n};\r\nexport const cartReducer = (state = intialState, action) => {\r\n  switch (action.type) {\r\n    case ActionType.FIND_CART_REQUEST:\r\n    case ActionType.GET_ALL_CART_ITEMS_REQUEST:\r\n    case ActionType.UPDATE_CART_ITEM_REQUEST:\r\n    case ActionType.REMOVE_FROM_CART_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n      };\r\n    case ActionType.FIND_CART_SUCCESS:\r\n    case ActionType.CLEAR_CART_SUCCESS:\r\n      return {\r\n        ...state,\r\n        cart: action.payload,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n\r\n    case ActionType.ADD_TO_CART_SUCCESS:\r\n      const existingItemIndex = state.cartItems.findIndex(\r\n        (item) => item.foodId === action.payload.foodId\r\n      );\r\n      if (existingItemIndex >= 0) {\r\n        // यदि आइटम पहले से मौजूद है, तो उसकी मात्रा बढ़ाएँ\r\n        const updatedItems = [...state.cartItems];\r\n        updatedItems[existingItemIndex].quantity += action.payload.quantity; // मान लें कि आपकी payload में मात्रा होती है\r\n        return {\r\n          ...state,\r\n          cartItems: updatedItems,\r\n          loading: false,\r\n          error: null,\r\n        };\r\n      } else {\r\n        // यदि आइटम नहीं है, तो नया आइटम जोड़ें\r\n        return {\r\n          ...state,\r\n          cartItems: [action.payload, ...state.cartItems],\r\n          loading: false,\r\n          error: null,\r\n        };\r\n      }\r\n      // console.log(\"aadasdss cart\", ...state.cartItems);\r\n      return {\r\n        ...state,\r\n        cartItems: [action.payload, ...state.cartItems],\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    case ActionType.UPDATE_CART_ITEM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        cartItems: state.cartItems.map((item) =>\r\n          item.id === action.payload.id ? action.payload : item\r\n        ),\r\n      };\r\n    case ActionType.REMOVE_FROM_CART_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        cartItems: state.cartItems.filter((item) => item.id !== action.payload),\r\n      };\r\n    case ActionType.FIND_CART_FAILURE:\r\n    case ActionType.UPDATE_CART_ITEM_FAILURE:\r\n    case ActionType.REMOVE_FROM_CART_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n      };\r\n    case LOGOUT:\r\n      localStorage.removeItem(\"jwt\");\r\n      return {\r\n        ...state,\r\n        cartItems: [],\r\n        cart: null,\r\n        success: \"logout success\",\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}