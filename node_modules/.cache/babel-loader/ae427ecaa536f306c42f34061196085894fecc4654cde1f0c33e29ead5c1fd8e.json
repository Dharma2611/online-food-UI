{"ast":null,"code":"import { ADD_TO_CART_FAILURE, ADD_TO_CART_REQUEST, ADD_TO_CART_SUCCESS, CLEAR_CART, CLEAR_CART_FAILURE, CLEAR_CART_REQUEST, CLEAR_CART_SUCCESS, FIND_CART_FAILURE, FIND_CART_REQUEST, FIND_CART_SUCCESS, GET_ALL_CART_ITEMS_FAILURE, GET_ALL_CART_ITEMS_REQUEST, GET_ALL_CART_ITEMS_SUCCESS, REMOVE_FROM_CART_FAILURE, REMOVE_FROM_CART_REQUEST, REMOVE_FROM_CART_SUCCESS, UPDATE_CART_ITEM_FAILURE, UPDATE_CART_ITEM_REQUEST, UPDATE_CART_ITEM_SUCCESS } from \"./ActionType\";\nimport api from \"../../commponent/config/api\";\nexport const findCart = token => {\n  return async dispatch => {\n    dispatch({\n      type: FIND_CART_REQUEST\n    });\n    try {\n      const response = await api.get(`/api/cart/`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      dispatch({\n        type: FIND_CART_SUCCESS,\n        payload: response\n      });\n    } catch (error) {\n      dispatch({\n        type: FIND_CART_FAILURE,\n        payload: error\n      });\n    }\n  };\n};\nexport const getAllCArtItem = reqData => {\n  return async dispatch => {\n    dispatch({\n      type: GET_ALL_CART_ITEMS_REQUEST\n    });\n    try {\n      const response = await api.get(`/api/carts/${reqData.cartId}/item`, {\n        headers: {\n          Authorization: `Bearer ${reqData.token}`\n        }\n      });\n      dispatch({\n        type: GET_ALL_CART_ITEMS_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_ALL_CART_ITEMS_FAILURE,\n        payload: error\n      });\n    }\n  };\n};\nexport const addItemToCart = reqData => {\n  return async dispatch => {\n    dispatch({\n      type: ADD_TO_CART_REQUEST\n    });\n    try {\n      const response = await api.put(`/api/cart/add`, reqData.cartItem, {\n        headers: {\n          Authorization: `Bearer ${reqData.token}`\n        }\n      });\n      console.log(\"Add item to card \", response);\n      dispatch({\n        type: ADD_TO_CART_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      console.log(\"added is error\", error);\n      dispatch({\n        type: ADD_TO_CART_FAILURE,\n        payload: error\n      });\n    }\n  };\n};\nexport const updateCartItem = reqData => {\n  return async dispatch => {\n    dispatch({\n      type: UPDATE_CART_ITEM_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.put(`/api/cart-item/update`, reqData.data, {\n        headers: {\n          Authorization: `Bearer ${reqData.jwt}`\n        }\n      });\n      console.log(\"Add item to card \", data);\n      dispatch({\n        type: UPDATE_CART_ITEM_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      console.log(\"added is error\", error);\n      dispatch({\n        type: UPDATE_CART_ITEM_FAILURE,\n        payload: error\n      });\n    }\n  };\n};\nexport const removeCArtItem = ({\n  cartItemId,\n  jwt\n}) => {\n  return async dispatch => {\n    dispatch({\n      type: REMOVE_FROM_CART_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.delete(`/api/cart-item/${cartItemId}/remove`, cartItemId, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"remove item\", data);\n      dispatch({\n        type: REMOVE_FROM_CART_SUCCESS,\n        payload: cartItemId\n      });\n    } catch (error) {\n      console.log(\"added is error\", error);\n      dispatch({\n        type: REMOVE_FROM_CART_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const clearCartAction = () => {\n  return async dispatch => {\n    dispatch({\n      type: CLEAR_CART_REQUEST\n    });\n    try {\n      const response = await api.put(`/api/cart/clear`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n        }\n      });\n      dispatch({\n        type: CLEAR_CART_SUCCESS,\n        payload: response\n      });\n    } catch (error) {\n      dispatch({\n        type: CLEAR_CART_FAILURE,\n        payload: error\n      });\n    }\n  };\n};","map":{"version":3,"names":["ADD_TO_CART_FAILURE","ADD_TO_CART_REQUEST","ADD_TO_CART_SUCCESS","CLEAR_CART","CLEAR_CART_FAILURE","CLEAR_CART_REQUEST","CLEAR_CART_SUCCESS","FIND_CART_FAILURE","FIND_CART_REQUEST","FIND_CART_SUCCESS","GET_ALL_CART_ITEMS_FAILURE","GET_ALL_CART_ITEMS_REQUEST","GET_ALL_CART_ITEMS_SUCCESS","REMOVE_FROM_CART_FAILURE","REMOVE_FROM_CART_REQUEST","REMOVE_FROM_CART_SUCCESS","UPDATE_CART_ITEM_FAILURE","UPDATE_CART_ITEM_REQUEST","UPDATE_CART_ITEM_SUCCESS","api","findCart","token","dispatch","type","response","get","headers","Authorization","payload","error","getAllCArtItem","reqData","cartId","data","addItemToCart","put","cartItem","console","log","updateCartItem","jwt","removeCArtItem","cartItemId","delete","message","clearCartAction","localStorage","getItem"],"sources":["C:/Users/gangw/OneDrive/Desktop/online-frontend/src/State/Cart/Action.js"],"sourcesContent":["import {\r\n  ADD_TO_CART_FAILURE,\r\n  ADD_TO_CART_REQUEST,\r\n  ADD_TO_CART_SUCCESS,\r\n  CLEAR_CART,\r\n  CLEAR_CART_FAILURE,\r\n  CLEAR_CART_REQUEST,\r\n  CLEAR_CART_SUCCESS,\r\n  FIND_CART_FAILURE,\r\n  FIND_CART_REQUEST,\r\n  FIND_CART_SUCCESS,\r\n  GET_ALL_CART_ITEMS_FAILURE,\r\n  GET_ALL_CART_ITEMS_REQUEST,\r\n  GET_ALL_CART_ITEMS_SUCCESS,\r\n  REMOVE_FROM_CART_FAILURE,\r\n  REMOVE_FROM_CART_REQUEST,\r\n  REMOVE_FROM_CART_SUCCESS,\r\n  UPDATE_CART_ITEM_FAILURE,\r\n  UPDATE_CART_ITEM_REQUEST,\r\n  UPDATE_CART_ITEM_SUCCESS,\r\n} from \"./ActionType\";\r\nimport api from \"../../commponent/config/api\";\r\n\r\nexport const findCart = (token) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: FIND_CART_REQUEST });\r\n    try {\r\n      const response = await api.get(`/api/cart/`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      dispatch({ type: FIND_CART_SUCCESS, payload: response });\r\n    } catch (error) {\r\n      dispatch({ type: FIND_CART_FAILURE, payload: error });\r\n    }\r\n  };\r\n};\r\n\r\nexport const getAllCArtItem = (reqData) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: GET_ALL_CART_ITEMS_REQUEST });\r\n    try {\r\n      const response = await api.get(`/api/carts/${reqData.cartId}/item`, {\r\n        headers: {\r\n          Authorization: `Bearer ${reqData.token}`,\r\n        },\r\n      });\r\n      dispatch({ type: GET_ALL_CART_ITEMS_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n      dispatch({ type: GET_ALL_CART_ITEMS_FAILURE, payload: error });\r\n    }\r\n  };\r\n};\r\n\r\nexport const addItemToCart = (reqData) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: ADD_TO_CART_REQUEST });\r\n    try {\r\n      const response = await api.put(`/api/cart/add`, reqData.cartItem, {\r\n        headers: {\r\n          Authorization: `Bearer ${reqData.token}`,\r\n        },\r\n      });\r\n      console.log(\"Add item to card \", response);\r\n      dispatch({ type: ADD_TO_CART_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n      console.log(\"added is error\", error);\r\n      dispatch({ type: ADD_TO_CART_FAILURE, payload: error });\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateCartItem = (reqData) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: UPDATE_CART_ITEM_REQUEST });\r\n    try {\r\n      const { data } = await api.put(`/api/cart-item/update`, reqData.data, {\r\n        headers: {\r\n          Authorization: `Bearer ${reqData.jwt}`,\r\n        },\r\n      });\r\n      console.log(\"Add item to card \", data);\r\n      dispatch({ type: UPDATE_CART_ITEM_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      console.log(\"added is error\", error);\r\n      dispatch({ type: UPDATE_CART_ITEM_FAILURE, payload: error });\r\n    }\r\n  };\r\n};\r\n\r\nexport const removeCArtItem = ({ cartItemId, jwt }) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: REMOVE_FROM_CART_REQUEST });\r\n    try {\r\n      const { data } = await api.delete(\r\n        `/api/cart-item/${cartItemId}/remove`,\r\n        cartItemId,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${jwt}`,\r\n          },\r\n        }\r\n      );\r\n      console.log(\"remove item\", data);\r\n      dispatch({ type: REMOVE_FROM_CART_SUCCESS, payload: cartItemId });\r\n    } catch (error) {\r\n      console.log(\"added is error\", error);\r\n      dispatch({ type: REMOVE_FROM_CART_FAILURE, payload: error.message });\r\n    }\r\n  };\r\n};\r\n\r\nexport const clearCartAction = () => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: CLEAR_CART_REQUEST });\r\n    try {\r\n      const response = await api.put(\r\n        `/api/cart/clear`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n          },\r\n        }\r\n      );\r\n      dispatch({ type: CLEAR_CART_SUCCESS, payload: response });\r\n    } catch (error) {\r\n      dispatch({ type: CLEAR_CART_FAILURE, payload: error });\r\n    }\r\n  };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}