{"ast":null,"code":"import { api } from \"../../commponent/config/api\";\nimport { CREATE_ORDER_FAILURE, CREATE_ORDER_REQUEST, CREATE_ORDER_SUCCESS, GET_USER_NOTIFICATION_FAILURE, GET_USER_NOTIFICATION_REQUEST, GET_USER_NOTIFICATION_SUCCESS, GET_USERS_ORDER_FAILURE, GET_USERS_ORDER_REQUEST, GET_USERS_ORDER_SUCCESS } from \"./ActionType\";\nexport const createOrder = reqData => {\n  return async dispatch => {\n    dispatch({\n      type: CREATE_ORDER_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.post(`/api/order`, reqData.order, {\n        headers: {\n          Authorization: `Bearer ${reqData.jwt}`\n        }\n      });\n      if (data.payment_url) {\n        window.location.href = data.payment_url;\n      }\n      dispatch({\n        type: CREATE_ORDER_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      console.log(\"create Order error\", error);\n      dispatch({\n        type: CREATE_ORDER_FAILURE,\n        payload: error\n      });\n    }\n  };\n};\nexport const getUsersOrders = jwt => {\n  return async dispatch => {\n    dispatch({\n      type: GET_USERS_ORDER_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.get(\"/api/order/user\", {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"user order\", data);\n      dispatch({\n        type: GET_USERS_ORDER_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      console.log(\"users orders errror\", error);\n      dispatch({\n        type: GET_USERS_ORDER_FAILURE,\n        payload: error\n      });\n    }\n  };\n};\nexport const getUserNotificationAction = () => {\n  return async dispatch => {\n    dispatch({\n      type: GET_USER_NOTIFICATION_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.get(\"/api/notification\");\n      console.log(\"notification data\", data);\n      dispatch({\n        type: GET_USER_NOTIFICATION_SUCCESS,\n        data\n      });\n    } catch (error) {\n      console.log(\"notification error\", error);\n      dispatch({\n        type: GET_USER_NOTIFICATION_FAILURE,\n        error\n      });\n    }\n  };\n};","map":{"version":3,"names":["api","CREATE_ORDER_FAILURE","CREATE_ORDER_REQUEST","CREATE_ORDER_SUCCESS","GET_USER_NOTIFICATION_FAILURE","GET_USER_NOTIFICATION_REQUEST","GET_USER_NOTIFICATION_SUCCESS","GET_USERS_ORDER_FAILURE","GET_USERS_ORDER_REQUEST","GET_USERS_ORDER_SUCCESS","createOrder","reqData","dispatch","type","data","post","order","headers","Authorization","jwt","payment_url","window","location","href","payload","error","console","log","getUsersOrders","get","getUserNotificationAction"],"sources":["C:/Users/gangw/OneDrive/Desktop/online-frontend/src/State/Order/Action.js"],"sourcesContent":["import { api } from \"../../commponent/config/api\";\r\nimport {\r\n  CREATE_ORDER_FAILURE,\r\n  CREATE_ORDER_REQUEST,\r\n  CREATE_ORDER_SUCCESS,\r\n  GET_USER_NOTIFICATION_FAILURE,\r\n  GET_USER_NOTIFICATION_REQUEST,\r\n  GET_USER_NOTIFICATION_SUCCESS,\r\n  GET_USERS_ORDER_FAILURE,\r\n  GET_USERS_ORDER_REQUEST,\r\n  GET_USERS_ORDER_SUCCESS,\r\n} from \"./ActionType\";\r\n\r\nexport const createOrder = (reqData) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: CREATE_ORDER_REQUEST });\r\n    try {\r\n      const { data } = await api.post(`/api/order`, reqData.order, {\r\n        headers: {\r\n          Authorization: `Bearer ${reqData.jwt}`,\r\n        },\r\n      });\r\n      if (data.payment_url) {\r\n        window.location.href = data.payment_url;\r\n      }\r\n      dispatch({ type: CREATE_ORDER_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      console.log(\"create Order error\", error);\r\n      dispatch({ type: CREATE_ORDER_FAILURE, payload: error });\r\n    }\r\n  };\r\n};\r\nexport const getUsersOrders = (jwt) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: GET_USERS_ORDER_REQUEST });\r\n    try {\r\n      const { data } = await api.get(\"/api/order/user\", {\r\n        headers: {\r\n          Authorization: `Bearer ${jwt}`,\r\n        },\r\n      });\r\n      console.log(\"user order\", data);\r\n      dispatch({ type: GET_USERS_ORDER_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      console.log(\"users orders errror\", error);\r\n      dispatch({ type: GET_USERS_ORDER_FAILURE, payload: error });\r\n    }\r\n  };\r\n};\r\n\r\nexport const getUserNotificationAction = () => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: GET_USER_NOTIFICATION_REQUEST });\r\n    try {\r\n      const { data } = await api.get(\"/api/notification\");\r\n      console.log(\"notification data\", data);\r\n      dispatch({ type: GET_USER_NOTIFICATION_SUCCESS, data });\r\n    } catch (error) {\r\n      console.log(\"notification error\", error);\r\n      dispatch({ type: GET_USER_NOTIFICATION_FAILURE, error });\r\n    }\r\n  };\r\n};\r\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,6BAA6B;AACjD,SACEC,oBAAoB,EACpBC,oBAAoB,EACpBC,oBAAoB,EACpBC,6BAA6B,EAC7BC,6BAA6B,EAC7BC,6BAA6B,EAC7BC,uBAAuB,EACvBC,uBAAuB,EACvBC,uBAAuB,QAClB,cAAc;AAErB,OAAO,MAAMC,WAAW,GAAIC,OAAO,IAAK;EACtC,OAAO,MAAOC,QAAQ,IAAK;IACzBA,QAAQ,CAAC;MAAEC,IAAI,EAAEX;IAAqB,CAAC,CAAC;IACxC,IAAI;MACF,MAAM;QAAEY;MAAK,CAAC,GAAG,MAAMd,GAAG,CAACe,IAAI,CAAC,YAAY,EAAEJ,OAAO,CAACK,KAAK,EAAE;QAC3DC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUP,OAAO,CAACQ,GAAG;QACtC;MACF,CAAC,CAAC;MACF,IAAIL,IAAI,CAACM,WAAW,EAAE;QACpBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGT,IAAI,CAACM,WAAW;MACzC;MACAR,QAAQ,CAAC;QAAEC,IAAI,EAAEV,oBAAoB;QAAEqB,OAAO,EAAEV;MAAK,CAAC,CAAC;IACzD,CAAC,CAAC,OAAOW,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,KAAK,CAAC;MACxCb,QAAQ,CAAC;QAAEC,IAAI,EAAEZ,oBAAoB;QAAEuB,OAAO,EAAEC;MAAM,CAAC,CAAC;IAC1D;EACF,CAAC;AACH,CAAC;AACD,OAAO,MAAMG,cAAc,GAAIT,GAAG,IAAK;EACrC,OAAO,MAAOP,QAAQ,IAAK;IACzBA,QAAQ,CAAC;MAAEC,IAAI,EAAEL;IAAwB,CAAC,CAAC;IAC3C,IAAI;MACF,MAAM;QAAEM;MAAK,CAAC,GAAG,MAAMd,GAAG,CAAC6B,GAAG,CAAC,iBAAiB,EAAE;QAChDZ,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUC,GAAG;QAC9B;MACF,CAAC,CAAC;MACFO,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEb,IAAI,CAAC;MAC/BF,QAAQ,CAAC;QAAEC,IAAI,EAAEJ,uBAAuB;QAAEe,OAAO,EAAEV;MAAK,CAAC,CAAC;IAC5D,CAAC,CAAC,OAAOW,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEF,KAAK,CAAC;MACzCb,QAAQ,CAAC;QAAEC,IAAI,EAAEN,uBAAuB;QAAEiB,OAAO,EAAEC;MAAM,CAAC,CAAC;IAC7D;EACF,CAAC;AACH,CAAC;AAED,OAAO,MAAMK,yBAAyB,GAAGA,CAAA,KAAM;EAC7C,OAAO,MAAOlB,QAAQ,IAAK;IACzBA,QAAQ,CAAC;MAAEC,IAAI,EAAER;IAA8B,CAAC,CAAC;IACjD,IAAI;MACF,MAAM;QAAES;MAAK,CAAC,GAAG,MAAMd,GAAG,CAAC6B,GAAG,CAAC,mBAAmB,CAAC;MACnDH,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEb,IAAI,CAAC;MACtCF,QAAQ,CAAC;QAAEC,IAAI,EAAEP,6BAA6B;QAAEQ;MAAK,CAAC,CAAC;IACzD,CAAC,CAAC,OAAOW,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,KAAK,CAAC;MACxCb,QAAQ,CAAC;QAAEC,IAAI,EAAET,6BAA6B;QAAEqB;MAAM,CAAC,CAAC;IAC1D;EACF,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}